<?xml version="1.0"?>
<!-- build file for JavaChecker project -->
<project name="JavaChecker2.ext" default="all" basedir=".">

<!-- 
 You need TermWare2 and docbook for building.
 IzPack, if you want build installation.
-->

 <!-- set here location of TermWare installed (see http://www.gradsoft.com.ua ) -->
 <property name="termware.home" location="c:/home/rssh/work/TermWare.2" />

 <!-- set here location of IzPack (see http://www.izforge.com) -->
 <property name="izpackhome" location="c:/Program Files/Izpack" />
                
 <!-- set here location of ant (see ant.apache.org ) -->
 <property name="anthome" location="c:/local/java/ant" />



 <!-- external tasks -->

 <taskdef name="izpack" classpath="${izpackhome}/lib/compiler.jar"
         classname="com.izforge.izpack.ant.IzPackTask"/>

 <!-- targets -->

 <target name="clean">
  <ant antfile="build.xml" target="clean" />
 </target>

 <target name="docs">
  <ant antfile="build.xml" target="docs" />
 </target>

 <target name="build">
  <ant antfile="build.xml" target="build" />
 </target>



 <target name="cpTermWare" >
   <copy file="${termware.home}/lib/TermWare2.jar" 
         tofile="jlib/TermWare2.jar"
         preservelastmodified="yes"
   />
 </target>




 <target name="binary_installation" depends="build,docs,cpTermWare">
  <izpack input="installer/binary_installation.xml"
          output="installer/JavaCheckerBinaryInstaller2.0.0.jar"
          installerType="standard"
          basedir="installer"
          IzPackDir="${izpackhome}"
  />
 </target>

 <target name="source_installation" depends="build,docs,cpTermWare">
  <izpack input="installer/source_installation.xml"
          output="installer/JavaCheckerSourceInstaller2.0.0.jar"
          installerType="standard"
          basedir="installer"
          IzPackDir="${izpackhome}"
  />
 </target>

 <target name="installation" depends="binary_installation,source_installation" /> 

 <target name="all" depends="build,clean,docs,installation"/>

</project>
